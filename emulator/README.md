This directory contains emulator and a sample injector.

| File              | Description                                                    |
|-------------------|:---------------------------------------------------------------|
| d_time.h          | The header containing essential declarations for emulator      |
| exe.cpp           | Emulator function                                              |
| loader.cpp        | Header files containing helper functions for injector          |
| main.cpp          | Main function for injector                                     |
| payload_headers.h | The header file with essential declarations for exe.cpp        |
| stdafx.h          | Conventional file for faster build                             |
| stdafx.cpp        | Conventional file for faster build                             |

### How to use
Emulator code is best built using Visual Studio.
Though all version of Visual Studio works, VS2010 will be the least confusing if you are a beginner.
Follow the given steps carefully to avoid any confusions:
1. Open Visual Studio and use `Create Project from Existing Code` to create a project around our code.
2. Ensure the following settings for the project:  
   1. C/C++ --> Code Generation --> Buffer Security Check --> NO
   2. C/C++ --> Advanced --> Calling Convention --> `__stdcall`
   3. Linker --> General --> Enable Incremental Linking --> NO
   4. Linker --> System --> Sub-System --> Console
3. In `d_time.h`, uncomment the processes you like to inject to.
4. In `main.cpp`  
   1. Set the number of processes you like to inject to
   2. Set the number of blocks generated by splitter (read the splitter output)
   3. Set the number of segments generated by splitter
5. Build the emulator.
6. Copy the output files of splitter to the working directory.
7. Run the emualtor to start D-TIME.

The emulator.exe generated is an injector which will
   1. Store blocks and segments in shared memory
   2. Inject the initial emulators in processes
